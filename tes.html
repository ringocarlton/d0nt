<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>d0nt.blinkk</title>
  <link rel="icon" href="favicon.png" type="image/png">
  <style>
    :root{
      --ease: cubic-bezier(.25,.1,.25,1);
    }
    html,body{
      height:100%;
      margin:0;
      font-family:"Helvetica Neue", "Arial", sans-serif;
      overflow:hidden;
      background:#000;
      color:#fff;
    }
    
    /* Main Container */
    .ipod-interface{
      height:100vh;
      background:linear-gradient(180deg, #0a0a0a 0%, #1a1a1a 100%);
      display:flex;
      flex-direction:column;
      padding:20px;
      box-sizing:border-box;
    }
    
    /* Header */
    .header{
      display:flex;
      justify-content:space-between;
      align-items:center;
      padding:0 20px 20px;
      border-bottom:1px solid rgba(255,255,255,.1);
    }
    .logo{
      font-size:24px;
      font-weight:700;
      letter-spacing:1px;
    }
    .controls{
      display:flex;
      gap:12px;
    }
    .btn{
      background:rgba(255,255,255,.1);
      border:1px solid rgba(255,255,255,.2);
      color:#fff;
      padding:8px 16px;
      border-radius:20px;
      cursor:pointer;
      font-size:12px;
      transition:all .2s var(--ease);
      backdrop-filter:blur(10px);
    }
    .btn:hover{
      background:rgba(255,255,255,.2);
      transform:translateY(-1px);
    }
    
    /* Cover Flow Container */
    .coverflow-container{
      flex:1;
      display:flex;
      align-items:center;
      justify-content:center;
      perspective:1200px;
      overflow:hidden;
      position:relative;
      margin:40px 0;
      cursor:grab;
      user-select:none;
    }
    .coverflow-container:active{
      cursor:grabbing;
    }
    .coverflow{
      position:relative;
      width:100%;
      height:400px;
      display:flex;
      align-items:center;
      justify-content:center;
      transform-style:preserve-3d;
    }
    .cover{
      position:absolute;
      width:300px;
      height:300px;
      border-radius:8px;
      overflow:hidden;
      box-shadow:0 25px 80px rgba(0,0,0,.7);
      cursor:pointer;
      background:#222;
      will-change:transform, opacity;
    }
    .cover img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      user-select:none;
      -webkit-user-drag:none;
      pointer-events:none;
    }
    .cover-reflection{
      position:absolute;
      bottom:-102%;
      left:0;
      width:100%;
      height:100%;
      opacity:.25;
      pointer-events:none;
      transform:scaleY(-1);
      background:linear-gradient(to bottom, rgba(255,255,255,0) 0%, rgba(255,255,255,.1) 40%, transparent 100%);
    }
    
    /* Navigation hint */
    .nav-hint{
      position:absolute;
      bottom:20px;
      left:50%;
      transform:translateX(-50%);
      font-size:11px;
      opacity:.3;
      animation:pulse 2s ease-in-out infinite;
    }
    @keyframes pulse{
      0%, 100%{opacity:.3}
      50%{opacity:.6}
    }
    
    /* Info Display */
    .info-display{
      text-align:center;
      padding:20px;
      min-height:60px;
    }
    .cover-title{
      font-size:20px;
      font-weight:600;
      margin-bottom:8px;
      opacity:.95;
      letter-spacing:.5px;
    }
    .cover-index{
      font-size:12px;
      opacity:.4;
      font-weight:300;
    }
    
    /* Lightbox */
    .lightbox{
      display:none;
      position:fixed;
      inset:0;
      z-index:4000;
      background:rgba(0,0,0,.95);
      backdrop-filter:blur(12px);
      align-items:center;
      justify-content:center;
      animation:fadeIn .2s var(--ease);
    }
    .lightbox.visible{display:flex}
    @keyframes fadeIn{
      from{opacity:0}
      to{opacity:1}
    }
    .lightbox-content{
      max-width:90%;
      max-height:90%;
      position:relative;
    }
    .lightbox-content img{
      max-width:100%;
      max-height:90vh;
      border-radius:8px;
      box-shadow:0 30px 80px rgba(0,0,0,.8);
    }
    .lightbox-close{
      position:absolute;
      top:-50px;
      right:0;
      background:rgba(255,255,255,.1);
      border:1px solid rgba(255,255,255,.2);
      color:#fff;
      width:36px;
      height:36px;
      border-radius:50%;
      cursor:pointer;
      font-size:20px;
      display:flex;
      align-items:center;
      justify-content:center;
      transition:all .2s;
    }
    .lightbox-close:hover{
      background:rgba(255,255,255,.2);
    }
    
    /* About Modal */
    .about-overlay{
      position:fixed;
      inset:0;
      display:none;
      align-items:center;
      justify-content:center;
      background:rgba(0,0,0,.85);
      backdrop-filter:blur(8px);
      z-index:4500;
    }
    .about-overlay.visible{display:flex}
    .about-card{
      max-width:500px;
      background:rgba(30,30,30,.95);
      backdrop-filter:blur(20px);
      color:#fff;
      padding:32px;
      border-radius:16px;
      border:1px solid rgba(255,255,255,.1);
    }
    .about-card h3{
      margin:0 0 16px;
      font-size:24px;
      font-weight:600;
    }
    .about-card p{
      line-height:1.6;
      opacity:.9;
    }
    .about-card a{
      color:#58a6ff;
      text-decoration:none;
    }
    
    /* Footer */
    .footer{
      text-align:center;
      padding:20px;
      font-size:11px;
      opacity:.4;
      border-top:1px solid rgba(255,255,255,.1);
    }
    .footer a{
      color:inherit;
      text-decoration:none;
    }
    
    @media (max-width:768px){
      .cover{
        width:220px;
        height:220px;
      }
      .coverflow{
        height:300px;
      }
    }
  </style>
</head>
<body>
  <!-- Main Interface -->
  <div class="ipod-interface">
    <div class="header">
      <div class="logo">d0nt.blinkk</div>
      <div class="controls">
        <button class="btn" id="aboutBtn">About</button>
      </div>
    </div>

    <div class="coverflow-container" id="coverflowContainer">
      <div class="coverflow" id="coverflow"></div>
      <div class="nav-hint">← Drag or use arrow keys →</div>
    </div>

    <div class="info-display">
      <div class="cover-title" id="coverTitle">d0nt.blinkk</div>
      <div class="cover-index" id="coverIndex"></div>
    </div>

    <div class="footer">
      © 2026 <a href="https://instagram.com/d0nt.blinkk" target="_blank">d0nt.blinkk</a> | <a href="mailto:chorumz@gmail.com">chorumz@gmail.com</a>
    </div>
  </div>

  <!-- Lightbox -->
  <div class="lightbox" id="lightbox">
    <div class="lightbox-content">
      <button class="lightbox-close" id="lightboxClose">×</button>
      <img id="lightboxImg" src="" alt="">
    </div>
  </div>

  <!-- About Modal -->
  <div class="about-overlay" id="aboutOverlay">
    <div class="about-card">
      <h3>About d0nt.blinkk</h3>
      <p>d0nt.blinkk is the creative universe of Tate, a multifaceted artist exploring ideas through motion, identity and digital form.</p>
      <p style="margin-top:16px;font-size:13px;opacity:.7">Contact: <a href="mailto:chorumz@gmail.com">chorumz@gmail.com</a></p>
      <div style="text-align:right;margin-top:24px">
        <button class="btn" id="closeAbout">Close</button>
      </div>
    </div>
  </div>

  <script>
    let images = [];
    let scrollPosition = 0;
    let targetScroll = 0;
    let velocity = 0;
    const coverflow = document.getElementById('coverflow');
    const coverflowContainer = document.getElementById('coverflowContainer');
    const coverTitle = document.getElementById('coverTitle');
    const coverIndex = document.getElementById('coverIndex');
    const lightbox = document.getElementById('lightbox');
    const lightboxImg = document.getElementById('lightboxImg');
    
    let isDragging = false;
    let startX = 0;
    let lastX = 0;
    let dragStartScroll = 0;

    // Load images
    fetch('images.json')
      .then(r => r.json())
      .then(data => {
        images = data;
        initCoverFlow();
        animate();
      })
      .catch(err => console.error('Failed to load images:', err));

    function initCoverFlow() {
      coverflow.innerHTML = '';
      images.forEach((filename, index) => {
        const cover = document.createElement('div');
        cover.className = 'cover';
        cover.dataset.index = index;
        cover.innerHTML = `
          <img src="images/${filename}" alt="${filename}">
          <div class="cover-reflection"></div>
        `;
        cover.addEventListener('click', (e) => {
          e.stopPropagation();
          const coverScroll = parseInt(cover.dataset.index);
          const currentCenter = Math.round(scrollPosition);
          
          if (Math.abs(coverScroll - scrollPosition) < 0.3) {
            showLightbox(coverScroll);
          } else {
            targetScroll = coverScroll;
          }
        });
        coverflow.appendChild(cover);
      });
    }

    function updateCoverPositions() {
      const covers = document.querySelectorAll('.cover');
      
      covers.forEach((cover) => {
        const index = parseInt(cover.dataset.index);
        const offset = index - scrollPosition;
        const absOffset = Math.abs(offset);
        
        // Wider visibility range
        if (absOffset > 4) {
          cover.style.display = 'none';
        } else {
          cover.style.display = 'block';
          
          // Center cover
          if (absOffset < 0.01) {
            cover.style.transform = 'translateX(0) translateZ(0) rotateY(0deg) scale(1)';
            cover.style.opacity = '1';
            cover.style.zIndex = '100';
          }
          // Right side covers
          else if (offset > 0) {
            const spacing = 200;
            const angle = 60;
            const xPos = spacing * offset;
            const zPos = -100 * Math.min(offset, 2);
            const scale = Math.max(0.6, 1 - offset * 0.12);
            const opacity = Math.max(0.3, 1 - absOffset * 0.2);
            
            cover.style.transform = `translateX(${xPos}px) translateZ(${zPos}px) rotateY(-${angle}deg) scale(${scale})`;
            cover.style.opacity = opacity;
            cover.style.zIndex = Math.round(100 - absOffset * 10);
          }
          // Left side covers
          else {
            const spacing = 200;
            const angle = 60;
            const xPos = spacing * offset;
            const zPos = -100 * Math.min(absOffset, 2);
            const scale = Math.max(0.6, 1 - absOffset * 0.12);
            const opacity = Math.max(0.3, 1 - absOffset * 0.2);
            
            cover.style.transform = `translateX(${xPos}px) translateZ(${zPos}px) rotateY(${angle}deg) scale(${scale})`;
            cover.style.opacity = opacity;
            cover.style.zIndex = Math.round(100 - absOffset * 10);
          }
        }
      });

      updateInfo();
    }

    function updateInfo() {
      const centerIndex = Math.round(scrollPosition);
      const normalizedIndex = ((centerIndex % images.length) + images.length) % images.length;
      const filename = images[normalizedIndex];
      
      if (filename) {
        coverTitle.textContent = filename.replace(/\.[^/.]+$/, '');
        coverIndex.textContent = `${normalizedIndex + 1} of ${images.length}`;
      }
    }

    function animate() {
      // Smooth scrolling with momentum
      const diff = targetScroll - scrollPosition;
      velocity += diff * 0.015;
      velocity *= 0.85;
      scrollPosition += velocity;

      // Infinite wrapping
      if (scrollPosition < -0.5) {
        scrollPosition += images.length;
        targetScroll += images.length;
      } else if (scrollPosition >= images.length - 0.5) {
        scrollPosition -= images.length;
        targetScroll -= images.length;
      }

      updateCoverPositions();
      requestAnimationFrame(animate);
    }

    function showLightbox(index) {
      const normalizedIndex = ((index % images.length) + images.length) % images.length;
      lightboxImg.src = `images/${images[normalizedIndex]}`;
      lightbox.classList.add('visible');
    }

    // Mouse drag
    coverflowContainer.addEventListener('mousedown', (e) => {
      isDragging = true;
      startX = e.clientX;
      lastX = e.clientX;
      dragStartScroll = scrollPosition;
      velocity = 0;
    });

    document.addEventListener('mousemove', (e) => {
      if (!isDragging) return;
      
      const deltaX = e.clientX - lastX;
      const sensitivity = 0.01;
      targetScroll -= deltaX * sensitivity;
      scrollPosition -= deltaX * sensitivity;
      
      lastX = e.clientX;
    });

    document.addEventListener('mouseup', () => {
      if (isDragging) {
        isDragging = false;
        // Snap to nearest
        targetScroll = Math.round(scrollPosition);
      }
    });

    // Touch drag
    coverflowContainer.addEventListener('touchstart', (e) => {
      isDragging = true;
      startX = e.touches[0].clientX;
      lastX = e.touches[0].clientX;
      dragStartScroll = scrollPosition;
      velocity = 0;
    });

    coverflowContainer.addEventListener('touchmove', (e) => {
      if (!isDragging) return;
      
      const deltaX = e.touches[0].clientX - lastX;
      const sensitivity = 0.01;
      targetScroll -= deltaX * sensitivity;
      scrollPosition -= deltaX * sensitivity;
      
      lastX = e.touches[0].clientX;
    });

    coverflowContainer.addEventListener('touchend', () => {
      if (isDragging) {
        isDragging = false;
        targetScroll = Math.round(scrollPosition);
      }
    });

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      if (lightbox.classList.contains('visible')) {
        if (e.key === 'Escape') lightbox.classList.remove('visible');
        else if (e.key === 'ArrowLeft') {
          lightbox.classList.remove('visible');
          targetScroll -= 1;
        }
        else if (e.key === 'ArrowRight') {
          lightbox.classList.remove('visible');
          targetScroll += 1;
        }
        return;
      }
      
      if (e.key === 'ArrowLeft') {
        e.preventDefault();
        targetScroll -= 1;
      } else if (e.key === 'ArrowRight') {
        e.preventDefault();
        targetScroll += 1;
      } else if (e.key === 'Enter' || e.key === ' ') {
        e.preventDefault();
        showLightbox(Math.round(scrollPosition));
      }
    });

    // Mouse wheel
    coverflowContainer.addEventListener('wheel', (e) => {
      e.preventDefault();
      const delta = e.deltaY || e.deltaX;
      targetScroll += delta * 0.001;
    }, { passive: false });

    // Lightbox controls
    document.getElementById('lightboxClose').addEventListener('click', () => {
      lightbox.classList.remove('visible');
    });

    lightbox.addEventListener('click', (e) => {
      if (e.target === lightbox) {
        lightbox.classList.remove('visible');
      }
    });

    // About modal
    document.getElementById('aboutBtn').addEventListener('click', () => {
      document.getElementById('aboutOverlay').classList.add('visible');
    });

    document.getElementById('closeAbout').addEventListener('click', () => {
      document.getElementById('aboutOverlay').classList.remove('visible');
    });

    document.getElementById('aboutOverlay').addEventListener('click', (e) => {
      if (e.target.id === 'aboutOverlay') {
        e.target.classList.remove('visible');
      }
    });
  </script>
</body>
</html>
